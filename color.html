<html>
<head>
	<title>Sea Contacts</title>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
	<script type="text/javascript" src="js/register.js????"></script>
	<script type="text/javascript" src="js/code.js?????????????????????????????????????????????????????????????????????????????????????"></script>
	<!--Modified from https://stackoverflow.com/questions/2263096/css-file-not-refreshing-in-browser:-->	
    <link href="css/styles.css??<?=filemtime('css/styles.css');??????????>" rel="stylesheet" type="text/css">	
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600;700&family=Seaweed+Script&display=swap" rel="stylesheet">
    <link rel="icon" href="data:,">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <script type="text/javascript">
    // Simple fix for back button - remove fade-out class when page shows
    window.addEventListener('pageshow', function() {
        document.body.classList.remove('fade-out');
    });
    

    </script>
	
	<script type="text/javascript">
	document.addEventListener('DOMContentLoaded', function() 
	{
		readCookie();
	}, false);
	</script>
	

</head>
<body class="scrollable colors-page">

<div class="menu-button" onclick="toggleMenu()">
    <span></span>
    <span></span>
    <span></span>
</div>

<div class="menu-dropdown" id="menuDropdown">
    <div class="theme-switch">
        <span>Light/Dark Mode</span>
        <input type="checkbox" id="themeToggle" aria-label="Toggle theme">
        <label for="themeToggle"></label>
    </div>
</div>

<div class="waves-container" aria-hidden="true">
    <div class="waves">
        <div class="wave wave1"></div>
        <div class="wave wave2"></div>
        <div class="wave wave3"></div>
    </div>
    <!-- Static top half remains background-color from body -->
    
</div>



<div id="searchDropdownContainer">
	<div id="searchToggleButton" class="buttons" style="cursor: default; padding: 10px;font-family: 'Seaweed Script', cursive; font-size: 45px; font-weight: normal; height:auto; text-transform: none; letter-spacing: 8px; text-align: center;">
		<a href="https://www.youtube.com/watch?v=cE0wfjsybIQ&list=RDcE0wfjsybIQ&start_radio=1" target="_blank"><img src="images/Island2.svg" width="50" height="50" alt="User" style="vertical-align:middle; cursor:default;"></a><p style="display:inline; vertical-align:middle;">  Sea Contacts </p>
		<p style="position:inline; margin: 0 0 0 0; padding: 0; font-family:'Quicksand', sans-serif;font-size:15px; letter-spacing:normal;""><i> <q>See Your Contacts in Paradise</q></i> </p>	
	</div>
	
	<div id="searchDropdown" style="display: block;">
		
		<!-- Search Contacts -->
		<div class="dropdown-section">
			<br>
			<h3>Search Contacts</h3>
			<input type="text" id="searchText" placeholder="Search Contacts (first or last name)" onkeydown="handleSearchKeyDown(event)"/>
			<br></br>
			<span id="contactSearchResult"></span>
			<p id="contactListResults"></p>
		</div>
		
		
		<!-- List Contacts -->
		<div class="dropdown-section">
			<br>
			<h3>All Contacts</h3>
			<button type="button" id="listContactsButton" class="buttons" onclick="listContacts();"><img src="images/Show.svg" width="25" height="25" style="display:inline; vertical-align:middle;"><p style="display:inline; vertical-align:middle;">&ensp; Show my Contacts </p></button>
			<br>
			<p style="text-align:center; position: relative;left: 50%;transform: translateX(-50%);">
			<button type="button" id="addContactsButton" onclick="showAddContactsPopup();" class="buttons" style="float:right;text-align:center; padding: 0px; width: 50px; height: 50px; display:none;">
                        <img src="../images/Add.svg" width="30" height="30" style="text-align: center;"">
                	</button></p><br><br><br>
			<span id="contactsError"></span>
			<p id="contactsList" style="display:none;"></p></span>
		
					
		<br><br>
		<div id="csvSection" style="display:none;">
		<table>
		<tr>
		<!--  Bulk Add Contacts -->
		<td><div>
                        <h3>Import Contacts</h3>
			<button type="button"  style="display:inline;" id="bulkAddButton" class="buttons" onclick="importContacts();"><img src="images/Upload.svg" width="20" height="20" style="display:inline; vertical-align:middle;"><p style="display:inline; vertical-align:middle;">&ensp; Upload CSV </p></label>
			<input type="file" id="uploadButton" hidden/>
		</div></td>	
		<pre id="contents"></pre>               
		
		  <!-- Export Contacts -->
                <td><div>
                        <h3>Export Contacts</h3>
                        <button type="button" id="exportButton" class="buttons" onclick="exportContacts();"><img src="images/Download.svg" width="20" height="20" style="display:inline; vertical-align:middle;"><p style="display:inline; vertical-align:middle;">&ensp; Download CSV </p></button>
			<br></br>
                        <p></p>
                </div></td>
		</tr>
		<tr>
		<td><p style="text-align:center;"><a class="auth-link" style="font-family: 'Quicksand', sans-serif; font-size: 14px;" href="SeaContactsTemplate.csv" download="SeaContactsTemplate.csv">Download Contacts Template</a></p></td>
		<tr>
		</table>
		<br>
		</div>
		</div>
		<!-- Profile -->
		<div id="Profile" class="dropdown-section" style="position: relative;">
			<br>
			<h3>Profile</h3>
                        <br>
                        <div id="loggedInDiv">
                               <img src="images/Icon.svg" width="45" height="45" style="vertical-align:middle;">&ensp;&ensp; <span style="vertical-align:middle; display:inline;" id="userName"></span>
                        </div>
                        <br><br>
			<p></p>
		</div>
		
</div>


<!-- Floating bubbles for underwater effect -->
<div class="bubbles-container">
    <div class="bubble bubble-1"></div>
    <div class="bubble bubble-2"></div>
    <div class="bubble bubble-3"></div>
    <div class="bubble bubble-4"></div>
    <div class="bubble bubble-5"></div>
    <div class="bubble bubble-6"></div>
    <div class="bubble bubble-7"></div>
    <div class="bubble bubble-8"></div>
    <div class="bubble bubble-9"></div>
    <div class="bubble bubble-10"></div>
    <div class="bubble bubble-11"></div>
    <div class="bubble bubble-12"></div>
    <div class="bubble bubble-13"></div>
    <div class="bubble bubble-14"></div>
    <div class="bubble bubble-15"></div>
</div>

<div id="modifyContactPopup" class="menu-dropdown" style="transition: opacity 0.2s ease-in-out, transform 0.15s ease-in-out;display:none; top:10%; width:400px; max-height: 662px; left:50%;  transform:translate(-50%,0); padding:20px; z-index:1000;">
	<div>
		<h3>Modify Contact</h3><p></p>
		<button type="button" class="buttons" style="float: right; width: 35px; height: 35px; padding: 0px; border-radius: 12px; backdrop-filter: blur(6px);position: absolute; top: 10; right: 20;background: #e2e8f0;border: 1px solid rgba(148,163,184,0.35);" onclick="closeModifyContactPopup()">
                	<img src="../images/Cancel.svg" width="20" height="20" style="text-align: center;"">
        	</button>	
	</div>
    	<form id="modifyContactForm" onsubmit="submitModifyContact(event)">
        <input type="hidden" id="modifyContactId">
        <label>First Name: <input type="text" id="modifyFirstName"></label><br><br>
        <label>Last Name: <input type="text" id="modifyLastName"></label><br><br>
        <label>Phone: <input type="text" id="modifyPhone"></label><br><br>
        <label>Email: <input type="text" id="modifyEmail"></label><br><br>
        <label>Address: <input type="text" id="modifyAddress"></label><br><br>
	<table style="column-gap: 50%; margin: 0;">
                <tr>
	<td>
	<button type="button" style="display:inline-block; background: linear-gradient(135deg, #f43f5e 0%, #dc2626 100%); margin: 0;" class="buttons" onclick="deleteContactPrecise();">
        	<img src="../images/Delete1.svg" width="30" height="30">
	</button></td>
	<td>
        <button type="submit" style="display:inline-block; margin: 0;" class="buttons">
                <img src="../images/Save1.svg" width="30" height="30">
        </button></td>	
	<tr>
	</table>
    </form>
</div>


<div id="addContactPopup" class="menu-dropdown" style="transition: opacity 0.2s ease-in-out, transform 0.15s ease-in-out;display:none; top:10%; width:400px; max-height: 662px; left:50%;  transform:translate(-50%,0); padding:20px; z-index:1000;">
        <div>
                <h3>Add New Contact</h3><p></p>
                <button type="button" class="buttons" style="float: right; width: 35px; height: 35px; padding: 0px; border-radius: 12px; backdrop-filter: blur(6px);position: absolute; top: 10; right: 20;background: #e2e8f0;border: 1px solid rgba(148,163,184,0.35);" onclick="closeAddContactsPopup()">
                        <img src="../images/Cancel.svg" width="20" height="20" style="text-align: center;"">
                </button>
        </div>
                        <input type="text" id="firstName" placeholder="First Name" onkeydown="handleAddContactKeyDown(event)" />
                        <input type="text" id="lastName" placeholder="Last Name" onkeydown="handleAddContactKeyDown(event)" />
                        <input type="text" id="phone" placeholder="Phone" onkeydown="handleAddContactKeyDown(event)" />
                        <input type="email" id="email" placeholder="Email" onkeydown="handleAddContactKeyDown(event)" />
                        <input type="text" id="address" placeholder="Address" onkeydown="handleAddContactKeyDown(event)" />
                        <button type="button" id="addContactButton" class="buttons" onclick="addContact();"> Add Contact </button>
                        <br><span id="contactAddResult"></span>
</div>
</body>

</html>

